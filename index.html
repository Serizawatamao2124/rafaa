<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soto Lamongan - Kuliner Khas Lamongan</title>
    <!-- Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Tambahkan kode ini di dalam bagian header aplikasi utama -->
<style>
    .restaurant-header {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                    url('rafa.jpeg');
        background-size: cover;
        background-position: center;
        color: white;
        padding: 40px 20px;
        text-align: center;
        border-radius: 10px;
        margin-bottom: 20px;
    }
    
    .restaurant-header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    
    .restaurant-header p {
        font-size: 1.2rem;
        margin-bottom: 20px;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }
    
    .restaurant-tagline {
        font-style: italic;
        font-size: 1.1rem;
        color: #f39c12;
        
    }
</style>
    <style>
        /* Reset dan Styling Dasar */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f5eb;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background-color: #e63946;
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo h1 {
            font-size: 28px;
            margin-left: 10px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 25px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        nav ul li a:hover {
            color: #ffd166;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://www.bing.com/ck/a?!&&p=a005d741fa502d06d2ad774a1c3526b07c52c72743154df5a18c5945d9240bc9JmltdHM9MTc2MjU2MDAwMA&ptn=3&ver=2&hsh=4&fclid=022f94bd-ac59-66a8-238c-82c1ad1e679c&u=a1L2ltYWdlcy9zZWFyY2g_cT1sb2dvK2VsK3JhaG1hJmlkPUM2OUQxMERDQUM1MzE3NkU5NTA5MTQ5NzcyODExRjdGMTg2RTI2RTMmRk9STT1JQUNGSVI&ntb=1') no-repeat center center/cover;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('elrahma.jpeg') no-repeat center center/cover;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            padding: 0 20px;
        }
        
        .hero-content h2 {
            font-size: 48px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
        }
        
        .hero-content p {
            font-size: 20px;
            max-width: 650px;
            margin: 0 auto 30px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }
        
        .btn {
            display: inline-block;
            background-color: #e63946;
            color: white;
            padding: 12px 30px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #d62839;
            transform: translateY(-3px);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid #e63946;
            color: #e63946;
        }
        
        .btn-outline:hover {
            background-color: #e63946;
            color: white;
        }
        
        /* Section Styling */
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .section-title h2 {
            font-size: 36px;
            color: #e63946;
            position: relative;
            display: inline-block;
            padding-bottom: 10px;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 70px;
            height: 3px;
            background-color: #e63946;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Tentang Section */
        .about-content {
            display: flex;
            align-items: center;
            gap: 40px;
        }
        
        .about-text {
            flex: 1;
        }
        
        .about-image {
            flex: 1;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s ease;
        }
        
        .about-image:hover img {
            transform: scale(1.05);
        }
        
        /* Lokasi Section */
        .location-content {
            display: flex;
            gap: 40px;
        }
        
        .location-info {
            flex: 1;
        }
        
        .location-map {
            flex: 1;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .location-map iframe {
            width: 100%;
            height: 100%;
            min-height: 300px;
            border: none;
        }
        
        /* Testimoni Section */
        .testimonials {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .testimonial {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .testimonial-text {
            font-style: italic;
            margin-bottom: 20px;
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
        }
        
        .testimonial-author img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
        }

        .testimonial:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        /* Galeri Section */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
            transition: transform 0.4s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(230, 57, 70, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 30px;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        /* Lightbox Modal */
        .lightbox-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 1001;
            justify-content: center;
            align-items: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        /* Footer */
        footer {
            background-color: #333;
            color: white;
            padding: 50px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #e63946;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column ul li a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-column ul li a:hover {
            color: #e63946;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: #444;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }
        
        .social-links a:hover {
            background-color: #e63946;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            font-size: 14px;
        }
        
        /* Modal Styling */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.2);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-header h2 {
            color: #e63946;
            margin: 0;
        }
        
        .close {
            font-size: 24px;
            cursor: pointer;
            color: #777;
            background: none;
            border: none;
        }
        
        .close:hover {
            color: #e63946;
        }
        
        /* Form Styling */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .form-footer {
            margin-top: 20px;
            text-align: center;
        }
        
        .form-footer a {
            color: #e63946;
            text-decoration: none;
        }
        
        .form-footer a:hover {
            text-decoration: underline;
        }
        
        /* Dashboard */
        .dashboard {
            display: none;
            min-height: 100vh;
            background-color: #f5f5f5;
        }
        
        .dashboard-header {
            background-color: #e63946;
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .dashboard-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .dashboard-nav ul {
            display: flex;
            list-style: none;
        }
        
        .dashboard-nav ul li {
            margin-left: 20px;
        }
        
        .dashboard-nav ul li a {
            color: white;
            text-decoration: none;
        }
        
        .dashboard-content {
            display: flex;
        }
        
        .sidebar {
            width: 250px;
            background-color: #333;
            color: white;
            min-height: calc(100vh - 70px);
            padding: 20px 0;
        }
        
        .sidebar ul {
            list-style: none;
        }
        
        .sidebar ul li {
            padding: 15px 20px;
            border-bottom: 1px solid #444;
            cursor: pointer;
        }
        
        .sidebar ul li a {
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .sidebar ul li a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .sidebar ul li.active {
            background-color: #e63946;
        }
        
        .main-content {
            flex: 1;
            padding: 30px;
        }
        
        .dashboard-section {
            display: none;
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .dashboard-section.active {
            display: block;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            text-align: center;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(230, 57, 70, 0.15);
        }

        
        .stat-card h3 {
            font-size: 14px;
            color: #777;
            margin-bottom: 10px;
        }
        
        .stat-card .value {
            font-size: 28px;
            font-weight: bold;
            color: #e63946;
        }
        
        /* Kasir Styling */
        .kasir-container {
            display: flex;
            gap: 20px;
            height: calc(100vh - 200px);
        }
        
        .menu-kasir {
            flex: 1;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            overflow-y: auto;
        }
        
        .keranjang-kasir {
            width: 350px;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }
        
        .menu-categories-kasir {
            display: flex;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .category-btn-kasir {
            padding: 8px 16px;
            background-color: #f1faee;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .category-btn-kasir.active {
            background-color: #e63946;
            color: white;
        }
        
        .menu-items-kasir {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .menu-item-kasir {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #eee;
        }

        .menu-item-kasir img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        
        .menu-item-kasir:hover {
            background-color: #e63946;
            color: white;
            transform: translateY(-3px);
        }
        
        .menu-item-kasir h4 {
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .menu-item-kasir .price {
            font-weight: bold;
            color: #e63946;
            font-size: 13px;
        }
        
        .menu-item-kasir:hover .price {
            color: white;
        }
        
        .keranjang-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .keranjang-items {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .keranjang-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        
        .keranjang-item:last-child {
            border-bottom: none;
        }
        
        .keranjang-item-info {
            flex: 1;
        }
        
        .keranjang-item-name {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .keranjang-item-price {
            color: #e63946;
            font-weight: bold;
            font-size: 13px;
        }
        
        .keranjang-item-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .quantity-btn-kasir {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            border: 1px solid #ddd;
            background-color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .keranjang-item-quantity {
            font-weight: bold;
            min-width: 25px;
            text-align: center;
            font-size: 14px;
        }
        
        .keranjang-total {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 18px;
            font-weight: bold;
        }
        
        .keranjang-actions {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .btn-kasir {
            padding: 12px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-kasir-primary {
            background-color: #2a9d8f;
            color: white;
        }
        
        .btn-kasir-primary:hover {
            background-color: #21867a;
        }
        
        .btn-kasir-secondary {
            background-color: #e63946;
            color: white;
        }
        
        .btn-kasir-secondary:hover {
            background-color: #d62839;
        }
        
        .btn-kasir-outline {
            background-color: transparent;
            border: 1px solid #e63946;
            color: #e63946;
        }
        
        .btn-kasir-outline:hover {
            background-color: #e63946;
            color: white;
        }
        
        /* Receipt Styling */
        .receipt {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-width: 400px;
            margin: 0 auto;
        }
        
        .receipt-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px dashed #e63946;
        }
        
        .receipt-header h2 {
            color: #e63946;
            margin-bottom: 5px;
        }
        
        .receipt-info {
            margin-bottom: 20px;
        }
        
        .receipt-info p {
            margin-bottom: 5px;
        }
        
        .receipt-items {
            width: 100%;
            margin-bottom: 20px;
        }
        
        .receipt-items th {
            text-align: left;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .receipt-items td {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .receipt-total {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 18px;
            font-weight: bold;
        }
        
        .receipt-footer {
            text-align: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px dashed #e63946;
            font-style: italic;
            color: #777;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        table th, table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 14px;
        }
        
        .btn-success {
            background-color: #2a9d8f;
        }
        
        .btn-danger {
            background-color: #e63946;
        }
        
        /* User Management */
        .user-role-selector {
            display: flex;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .user-role {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            background-color: #f9f9f9;
            transition: all 0.3s ease;
        }
        
        .user-role.active {
            background-color: #e63946;
            color: white;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 20px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav ul li {
                margin: 5px 10px;
            }
            
            .hero-content h2 {
                font-size: 36px;
            }
            
            .about-content, .location-content {
                flex-direction: column;
            }
            
            section {
                padding: 50px 0;
            }
            
            .dashboard-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                min-height: auto;
            }
            
            .kasir-container {
                flex-direction: column;
                height: auto;
            }
            
            .keranjang-kasir {
                width: 100%;
                margin-top: 20px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }

        /* Back to Top Button */
        .back-to-top-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background-color: #e63946;
            color: white;
            border-radius: 50%;
            text-align: center;
            font-size: 20px;
            line-height: 50px;
            z-index: 999;
            cursor: pointer;
            transition: opacity 0.4s, transform 0.4s, visibility 0.4s;
            opacity: 0;
            transform: translateY(100px);
            visibility: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .back-to-top-btn.show {
            opacity: 1;
            transform: translateY(0);
            visibility: visible;
        }

        .back-to-top-btn:hover {
            background-color: #d62839;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <h1>Soto Lamongan</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#tentang">Tentang</a></li>
                    <li><a href="#lokasi">Lokasi</a></li>
                    <li><a href="#testimoni">Testimoni</a></li>
                    <li><a href="#kontak">Kontak</a></li>
                    <li><a href="#" id="loginBtn">Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Soto Lamongan Asli</h2>
            <p class="animate__animated animate__fadeInUp animate__delay-1s">Rasakan kelezatan soto ayam khas Lamongan dengan cita rasa autentik yang menggugah selera</p>
            <a href="#tentang" class="btn">silahkan masuk</a>
        </div>
    </section>

    <!-- Tentang Section -->
    <section id="tentang">
        <div class="container">
            <div class="section-title">
                <h2>Tentang Soto Lamongan</h2>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <p>Soto Lamongan adalah salah satu kuliner khas Indonesia yang berasal dari Lamongan, Jawa Timur. Soto ini memiliki ciri khas kuah kuning yang gurih dengan tambahan koya, yaitu campuran kerupuk udang dan bawang putih yang dihaluskan.</p>
                    <p>Keunikan soto Lamongan terletak pada penggunaan bumbu rempah yang khas serta penyajiannya yang dilengkapi dengan suwiran ayam, tauge, seledri, daun bawang, dan telur rebus. Tidak lupa, soto ini selalu disajikan dengan nasi putih hangat dan sambal.</p>
                    <p>Di warung kami, kami menggunakan resep turun-temurun yang telah diwariskan selama beberapa generasi untuk memastikan cita rasa autentik soto Lamongan tetap terjaga.</p>
                </div>
                <div class="about-image">
                    <img src="rafa.jpeg" alt="Soto Lamongan">
                </div>
            </div>
        </div>
    </section>

    <!-- Lokasi Section -->
    <section id="lokasi">
        <div class="container">
            <div class="section-title">
                <h2>Lokasi Kami</h2>
            </div>
            <div class="location-content">
                <div class="location-info">
                    <h3>Warung Soto Lamongan Asli</h3>
                    <p>Jl. Raya Lamongan No. 123, Lamongan, Jawa Timur</p>
                    <p>Buka setiap hari:</p>
                    <p>Senin - Jumat: 08.00 - 20.00 WIB</p>
                    <p>Sabtu - Minggu: 08.00 - 22.00 WIB</p>
                    <p>Telepon: (0322) 123456</p>
                    <p>Email: info@sotolamongan.com</p>
                </div>
                <div class="location-map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3957.715178559567!2d112.41427407499654!3d-7.268465392732326!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e7805b56c6e0e4f%3A0x6f6b8f9b8f9b8f9b!2sLamongan%2C%20Jawa%20Timur!5e0!3m2!1sid!2sid!4v1647856789012!5m2!1sid!2sid" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimoni Section -->
    <section id="testimoni" style="background-color: #f1faee;">
        <div class="container">
            <div class="section-title">
                <h2>Testimoni Pelanggan</h2>
            </div>
            <div class="testimonials">
                <div class="testimonial">
                    <div class="testimonial-text">
                        "Soto Lamongan di sini benar-benar autentik! Rasanya persis seperti yang saya makan waktu berkunjung ke Lamongan. Koyanya yang gurih membuat soto ini semakin istimewa."
                    </div>
                    <div class="testimonial-author">
                        <img src="kakek.jpeg" alt="Pelanggan">
                        <div>
                            <h4>Budi Santoso</h4>
                            <p>Pelanggan Setia</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial">
                    <div class="testimonial-text">
                        "Tempat yang nyaman dengan pelayanan ramah. Soto ayamnya lezat dan harganya terjangkau. Sudah berkali-kali makan di sini dan tidak pernah kecewa."
                    </div>
                    <div class="testimonial-author">
                        <img src="senyum.jpeg" alt="Pelanggan">
                        <div>
                            <h4>Sari Indah</h4>
                            <p>Pelanggan</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial">
                    <div class="testimonial-text">
                        "Sebagai orang Lamongan asli, saya bisa membuktikan bahwa soto di tempat ini benar-benar otentik. Rasa kuah dan koyanya persis seperti di kampung halaman saya."
                    </div>
                    <div class="testimonial-author">
                        <img src="cowok.jpeg" alt="Pelanggan">
                        <div>
                            <h4>Ahmad Fauzi</h4>
                            <p>Warga Lamongan</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="kontak">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Soto Lamongan</h3>
                    <p>Warung Soto Lamongan Asli dengan cita rasa autentik yang telah diwariskan turun-temurun.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Kontak Kami</h3>
                    <ul>
                        <li>Jl. Raya Lamongan No. 123</li>
                        <li>Lamongan, Jawa Timur</li>
                        <li>Telepon: (0322) 123456</li>
                        <li>Email: info@sotolamongan.com</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Jam Operasional</h3>
                    <ul>
                        <li>Senin - Jumat: 08.00 - 20.00 WIB</li>
                        <li>Sabtu - Minggu: 08.00 - 22.00 WIB</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Soto Lamongan. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Login</h2>
                <button class="close">&times;</button>
            </div>
            <div class="user-role-selector">
                <div class="user-role active" data-role="kasir">Kasir</div>
                <div class="user-role" data-role="admin">Admin</div>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="Masukkan username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Masukkan password" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Login</button>
                <div class="form-footer">
                    <p><a href="#" id="forgotPasswordLink">Lupa Password?</a></p>
                    <p><a href="#" id="createAccountLink">Buat Akun Baru</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Lupa Password</h2>
                <button class="close">&times;</button>
            </div>
            <form id="forgotPasswordForm">
                <div class="form-group">
                    <label for="forgotUsername">Username</label>
                    <input type="text" id="forgotUsername" placeholder="Masukkan username Anda" required>
                </div>
                <div class="form-group">
                    <label for="forgotEmail">Email</label>
                    <input type="email" id="forgotEmail" placeholder="Masukkan email Anda" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Reset Password</button>
                <div class="form-footer">
                    <p><a href="#" id="backToLoginFromForgot">Kembali ke Login</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Create Account Modal -->
    <div id="createAccountModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Buat Akun Baru</h2>
                <button class="close">&times;</button>
            </div>
            <div class="user-role-selector">
                <div class="user-role active" data-role="kasir">Kasir</div>
                <div class="user-role" data-role="admin">Admin</div>
            </div>
            <form id="createAccountForm">
                <div class="form-group">
                    <label for="newUsername">Username</label>
                    <input type="text" id="newUsername" placeholder="Buat username" required>
                </div>
                <div class="form-group">
                    <label for="newEmail">Email</label>
                    <input type="email" id="newEmail" placeholder="Masukkan email" required>
                </div>
                <div class="form-group">
                    <label for="newPassword">Password</label>
                    <input type="password" id="newPassword" placeholder="Buat password" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Konfirmasi Password</label>
                    <input type="password" id="confirmPassword" placeholder="Konfirmasi password" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Buat Akun</button>
                <div class="form-footer">
                    <p><a href="#" id="backToLoginFromCreate">Kembali ke Login</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Menu Modal -->
    <div id="addMenuModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Tambah Menu Baru</h2>
                <button class="close">&times;</button>
            </div>
            <form id="addMenuForm">
                <div class="form-group">
                    <label for="menuName">Nama Menu</label>
                    <input type="text" id="menuName" placeholder="Masukkan nama menu" required>
                </div>
                <div class="form-group">
                    <label for="menuCategory">Kategori</label>
                    <select id="menuCategory" required>
                        <option value="">Pilih Kategori</option>
                        <option value="makanan">Makanan</option>
                        <option value="minuman">Minuman</option>
                        <option value="tambahan">Tambahan</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="menuPrice">Harga</label>
                    <input type="number" id="menuPrice" placeholder="Masukkan harga" required>
                </div>
                <div class="form-group">
                    <label for="menuDescription">Deskripsi (Opsional)</label>
                    <textarea id="menuDescription" placeholder="Masukkan deskripsi menu" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="menuImage">Gambar Menu (URL)</label>
                    <input type="text" id="menuImage" placeholder="Masukkan URL gambar">
                </div>
                <button type="submit" class="btn" style="width: 100%;">Tambah Menu</button>
            </form>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div id="receiptModal" class="modal">
        <div class="modal-content">
            <div class="receipt" id="receiptContent">
                <!-- Receipt content will be inserted here by JavaScript -->
            </div>
            <div class="cart-actions" style="margin-top: 20px; justify-content: center;">
                <button class="btn" id="printReceipt">Cetak Struk</button>
                <button class="btn btn-outline" id="newOrder">Pesanan Baru</button>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard" id="dashboard">
        <div class="dashboard-header">
            <div class="container dashboard-nav">
                <div class="logo">
                    <h1 id="dashboardTitle">Dashboard Soto Lamongan</h1>
                </div>
                <ul>
                    <li><span id="userRoleDisplay"></span></li>
                    <li><a href="#" id="logoutBtn">Logout</a></li>
                </ul>
            </div>
        </div>
        <div class="dashboard-content">
            <div class="sidebar">
                <ul id="sidebarMenu">
                    <!-- Sidebar menu will be populated based on user role -->
                </ul>
            </div>
            <div class="main-content">
                <!-- Kasir Section -->
                <div class="dashboard-section active" id="kasir">
                    <h2>Kasir - Sistem Pemesanan</h2>
                    <div class="kasir-container">
                        <div class="menu-kasir">
                            <div class="menu-categories-kasir">
                                <button class="category-btn-kasir active" data-category="all">Semua</button>
                                <button class="category-btn-kasir" data-category="makanan">Makanan</button>
                                <button class="category-btn-kasir" data-category="minuman">Minuman</button>
                                <button class="category-btn-kasir" data-category="tambahan">Tambahan</button>
                            </div>
                            <div class="menu-items-kasir" id="menuItemsKasir">
                                <!-- Menu items will be inserted here by JavaScript -->
                            </div>
                        </div>
                        <div class="keranjang-kasir">
                            <div class="keranjang-header">
                                <h3>Keranjang Pesanan</h3>
                                <button class="btn-kasir btn-kasir-outline" id="clearCartKasir">Kosongkan</button>
                            </div>
                            <div class="keranjang-items" id="keranjangItemsKasir">
                                <!-- Cart items will be inserted here -->
                            </div>
                            <div class="keranjang-total">
                                <span>Total:</span>
                                <span id="keranjangTotalKasir">Rp 0</span>
                            </div>
                            <div class="keranjang-actions">
                                <button class="btn-kasir btn-kasir-primary" id="checkoutKasir">Proses Pembayaran</button>
                                <button class="btn-kasir btn-kasir-secondary" id="saveOrderKasir">Simpan Pesanan</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Overview Section -->
                <div class="dashboard-section" id="overview">
                    <h2>Overview Penjualan</h2>
                    <div class="stats-cards">
                        <div class="stat-card">
                            <h3>Pendapatan Hari Ini</h3>
                            <div class="value" id="overviewRevenueToday">Rp 0</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Pesanan (Hari Ini)</h3>
                            <div class="value" id="overviewTotalOrders">0</div>
                        </div>
                        <div class="stat-card">
                            <h3>Menu Terlaris</h3>
                            <div class="value" id="overviewBestSeller">-</div>
                        </div>
                        <div class="stat-card">
                            <h3>Rating Pelanggan</h3>
                            <div class="value" id="overviewRating">4.8/5</div>
                        </div>
                    </div>
                    
                    <h3>Grafik Penjualan 7 Hari Terakhir</h3>
                    <div style="background-color: #f9f9f9; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <canvas id="salesChart"></canvas>
                    </div>
                </div>

                
                <!-- Kelola Menu Section -->
                <div class="dashboard-section" id="menu-management">
                    <h2>Kelola Menu</h2>
                    <button class="btn btn-small" style="margin-bottom: 20px;" id="addMenuBtn">Tambah Menu Baru</button>
                    <table>
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Nama Menu</th>
                                <th>Kategori</th>
                                <th>Harga</th>
                                <th>Status</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="menuTableBody">
                            <!-- Menu items will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Data Penjualan Section -->
                <div class="dashboard-section" id="penjualan">
                    <h2>Data Penjualan</h2>
                    <button class="btn btn-small btn-danger" style="margin-bottom: 20px;" id="resetSalesBtn">Hapus & Mulai Ulang Penjualan</button>
                    <table>
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>ID Pesanan</th>
                                <th>Tanggal</th>
                                <th>Kasir</th>
                                <th>Total</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="salesTableBody">
                            <!-- Sales data will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <!-- User Management Section -->
                <div class="dashboard-section" id="user-management">
                    <h2>Kelola Pengguna</h2>
                    <button class="btn btn-small" style="margin-bottom: 20px;" id="addUserBtn">Tambah Pengguna Baru</button>
                    <table>
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Status</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="userTableBody">
                            <!-- User items will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Laporan Section -->
                <div class="dashboard-section" id="laporan">
                    <h2>Laporan Penjualan</h2>
                    <div class="form-group">
                        <label>Pilih Periode Laporan</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="date" id="reportStartDate" style="flex: 1;">
                            <span style="line-height: 40px;">s/d</span>
                            <input type="date" id="reportEndDate" style="flex: 1;">
                            <button class="btn btn-small" id="generateReportBtn">Generate Laporan</button>
                        </div>
                    </div>
                    
                    <div id="reportResult" style="background-color: #f9f9f9; padding: 20px; border-radius: 10px; margin-top: 20px; display: none;">
                        <!-- Konten laporan akan dibuat di sini oleh JavaScript -->
                    </div>
                </div>
                
                <!-- Pengaturan Section -->
                <div class="dashboard-section" id="pengaturan">
                    <h2>Pengaturan Sistem</h2>
                    <div class="form-group">
                        <label>Nama Warung</label>
                        <input type="text" value="Soto Lamongan Asli">
                    </div>
                    <div class="form-group">
                        <label>Alamat</label>
                        <input type="text" value="Jl. Raya Lamongan No. 123, Lamongan, Jawa Timur">
                    </div>
                    <div class="form-group">
                        <label>Telepon</label>
                        <input type="text" value="(0322) 123456">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" value="info@sotolamongan.com">
                    </div>
                    <button class="btn">Simpan Pengaturan</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightboxModal" class="lightbox-modal">
        <button class="close" style="position: absolute; top: 20px; right: 30px; font-size: 40px; color: white;">&times;</button>
        <div class="modal-content" style="background: none; box-shadow: none; max-width: 90vw; max-height: 90vh;">
            <img src="" id="lightboxImage" alt="Tampilan Gambar" style="width: 100%; height: auto; max-height: 90vh; border-radius: 5px;">
        </div>
    </div>


    <!-- Back to Top Button -->
    <div id="backToTopBtn" class="back-to-top-btn" title="Kembali ke atas">
        <i class="fas fa-arrow-up"></i>
    </div>


    <script>
        // Data and State Management
        let cartKasir = [];
        let currentUserRole = 'kasir';
        let salesChart = null;
        let menuItems = [
            { id: 1, name: "Soto Ayam Lamongan", category: "makanan", price: 25000, status: "active", image: null },
            { id: 2, name: "Soto Daging Lamongan", category: "makanan", price: 30000, status: "active", image: null },
            { id: 3, name: "Nasi Goreng Lamongan", category: "makanan", price: 20000, status: "active", image: null },
            { id: 4, name: "Es Jeruk", category: "minuman", price: 8000, status: "active", image: null },
            { id: 5, name: "Teh Manis", category: "minuman", price: 5000, status: "active", image: null },
            { id: 6, name: "Kerupuk Udang", category: "tambahan", price: 3000, status: "active", image: null },
            { id: 7, name: "Telur Rebus", category: "tambahan", price: 5000, status: "active", image: null },
            { id: 8, name: "Emping Melinjo", category: "tambahan", price: 4000, status: "active", image: null }
        ];

        // Sales data (will be populated automatically)
        let salesData = [];
        let orderNumber = 1;

        // User data (in a real app, this would be stored in a database)
        let users = [
            { username: "admin", password: "admin123", email: "admin@sotolamongan.com", role: "admin", status: "active" },
            { username: "kasir1", password: "kasir123", email: "kasir1@sotolamongan.com", role: "kasir", status: "active" },
            { username: "kasir2", password: "kasir123", email: "kasir2@sotolamongan.com", role: "kasir", status: "active" }
        ];

        // DOM Elements
        const loginBtn = document.getElementById('loginBtn');
        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('loginForm');
        const forgotPasswordModal = document.getElementById('forgotPasswordModal');
        const forgotPasswordForm = document.getElementById('forgotPasswordForm');
        const createAccountModal = document.getElementById('createAccountModal');
        const createAccountForm = document.getElementById('createAccountForm');
        const addMenuModal = document.getElementById('addMenuModal');
        const addMenuForm = document.getElementById('addMenuForm');
        const dashboard = document.getElementById('dashboard');
        const logoutBtn = document.getElementById('logoutBtn');
        const closeButtons = document.querySelectorAll('.close');
        const receiptModal = document.getElementById('receiptModal');
        const receiptContent = document.getElementById('receiptContent');
        const printReceiptBtn = document.getElementById('printReceipt');
        const newOrderBtn = document.getElementById('newOrder');

        // Kasir Elements
        const menuItemsKasir = document.getElementById('menuItemsKasir');
        const keranjangItemsKasir = document.getElementById('keranjangItemsKasir');
        const keranjangTotalKasir = document.getElementById('keranjangTotalKasir');
        const clearCartKasirBtn = document.getElementById('clearCartKasir');
        const checkoutKasirBtn = document.getElementById('checkoutKasir');
        const saveOrderKasirBtn = document.getElementById('saveOrderKasir');
        const categoryButtonsKasir = document.querySelectorAll('.category-btn-kasir');
        const menuTableBody = document.getElementById('menuTableBody');
        const addMenuBtn = document.getElementById('addMenuBtn');
        const userTableBody = document.getElementById('userTableBody');
        const addUserBtn = document.getElementById('addUserBtn');
        const salesTableBody = document.getElementById('salesTableBody');

        // Overview elements
        const overviewRevenueToday = document.getElementById('overviewRevenueToday');
        const overviewTotalOrders = document.getElementById('overviewTotalOrders');
        const overviewBestSeller = document.getElementById('overviewBestSeller');
        const overviewRating = document.getElementById('overviewRating');

        // Report elements
        const generateReportBtn = document.getElementById('generateReportBtn');
        const reportResultDiv = document.getElementById('reportResult');


        // User role elements
        const userRoleSelectors = document.querySelectorAll('.user-role-selector .user-role');
        const dashboardTitle = document.getElementById('dashboardTitle');
        const userRoleDisplay = document.getElementById('userRoleDisplay');
        const sidebarMenu = document.getElementById('sidebarMenu');

        // Modal navigation elements
        const forgotPasswordLink = document.getElementById('forgotPasswordLink');
        const createAccountLink = document.getElementById('createAccountLink');
        const backToLoginFromForgot = document.getElementById('backToLoginFromForgot');
        const backToLoginFromCreate = document.getElementById('backToLoginFromCreate');

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize user role selectors
            initializeUserRoleSelectors();
            
            // Initialize kasir
            initializeKasir();

            // Initialize report generator
            generateReportBtn.addEventListener('click', generateSalesReport);
            
            // Modal close buttons
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    modal.style.display = 'none';
                });
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });
            
            // Login functionality
            loginBtn.addEventListener('click', function(e) {
                e.preventDefault();
                loginModal.style.display = 'flex';
            });
            
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                const selectedRole = document.querySelector('#loginModal .user-role.active').getAttribute('data-role');
                
                let user = users.find(u => u.username === username);
                let canLogin = false;

                if (user) {
                    // Pengguna ada, periksa password dan status
                    if (user.password === password && user.status === 'active') {
                        canLogin = true;
                    }
                } else if (selectedRole === 'kasir') {
                    // Pengguna tidak ada, dan mereka mencoba login sebagai kasir
                    // Buat akun kasir baru secara otomatis
                    const newUser = {
                        username: username,
                        password: password,
                        email: `${username}@sotolamongan.com`, // Buat email default
                        role: 'kasir',
                        status: 'active'
                    };
                    users.push(newUser);
                    user = newUser; // Pengguna yang baru dibuat sekarang menjadi pengguna saat ini
                    canLogin = true;
                    showNotification(`Akun kasir baru "${username}" telah dibuat.`);
                }
                
                if (canLogin) {
                    // Hide main website and show dashboard
                    document.querySelector('header').style.display = 'none';
                    document.querySelectorAll('section').forEach(sec => sec.style.display = 'none');
                    document.querySelector('footer').style.display = 'none';
                    
                    // Set current user role and update dashboard
                    currentUserRole = user.role;
                    updateDashboardForUserRole();
                    
                    // Show dashboard
                    dashboard.style.display = 'block';
                    loginModal.style.display = 'none';
                    
                    // Clear login form
                    loginForm.reset();
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Login Gagal',
                        text: 'Username atau password salah!',
                    });
                }
            });
            
            // Forgot password functionality
            forgotPasswordLink.addEventListener('click', function(e) {
                e.preventDefault();
                loginModal.style.display = 'none';
                forgotPasswordModal.style.display = 'flex';
            });
            
            backToLoginFromForgot.addEventListener('click', function(e) {
                e.preventDefault();
                forgotPasswordModal.style.display = 'none';
                loginModal.style.display = 'flex';
            });
            
            forgotPasswordForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('forgotUsername').value;
                const email = document.getElementById('forgotEmail').value;
                
                // Check if user exists
                const user = users.find(u => u.username === username && u.email === email);
                
                if (user) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Permintaan Terkirim',
                        text: 'Instruksi reset password telah dikirim ke email Anda.',
                    });
                    forgotPasswordModal.style.display = 'none';
                    loginModal.style.display = 'flex';
                    forgotPasswordForm.reset();
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Gagal',
                        text: 'Username atau email tidak ditemukan.',
                    });
                }
            });
            
            // Create account functionality
            createAccountLink.addEventListener('click', function(e) {
                e.preventDefault();
                loginModal.style.display = 'none';
                createAccountModal.style.display = 'flex';
            });
            
            backToLoginFromCreate.addEventListener('click', function(e) {
                e.preventDefault();
                createAccountModal.style.display = 'none';
                loginModal.style.display = 'flex';
            });
            
            createAccountForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('newUsername').value;
                const email = document.getElementById('newEmail').value;
                const password = document.getElementById('newPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                // Check if passwords match
                if (password !== confirmPassword) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Oops...',
                        text: 'Password dan konfirmasi password tidak cocok!',
                    });
                    return;
                }
                
                // Check if username already exists
                if (users.find(u => u.username === username)) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Username Tidak Tersedia',
                        text: 'Username sudah digunakan. Silakan pilih username lain.',
                    });
                    return;
                }
                
                // Add new user
                users.push({
                    username: username,
                    password: password,
                    email: email,
                    role: currentUserRole,
                    status: 'active'
                });
                
                Swal.fire({
                    icon: 'success',
                    title: 'Berhasil!',
                    text: 'Akun berhasil dibuat! Silakan login.',
                });
                createAccountModal.style.display = 'none';
                loginModal.style.display = 'flex';
                createAccountForm.reset();
            });
            
            // Logout functionality
            logoutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Show main website and hide dashboard
                document.querySelector('header').style.display = '';
                document.querySelectorAll('section').forEach(sec => sec.style.display = '');
                // Restore hero display to flex
                document.querySelector('.hero').style.display = 'flex';
                document.querySelector('footer').style.display = '';
                
                // Hide dashboard
                dashboard.style.display = 'none';
                
                // Reset user role
                currentUserRole = 'kasir';
            });
            
            // Receipt buttons
            printReceiptBtn.addEventListener('click', printReceipt);
            newOrderBtn.addEventListener('click', startNewOrder);

            // Animate on scroll
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    // Jika elemen terlihat di layar
                    if (entry.isIntersecting) {
                        // Tambahkan kelas animasi
                        entry.target.classList.add('animate__animated', 'animate__fadeInUp', 'animate__slow');
                        // Hentikan pengamatan pada elemen ini agar animasi tidak berulang
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.15 // Animasi akan terpicu saat 15% elemen terlihat
            });

            // Amati setiap elemen konten yang ingin dianimasikan
            document.querySelectorAll('.about-content, .location-content, .testimonials').forEach(el => {
                observer.observe(el);
            });

            // Lightbox Gallery Logic
            const galleryItems = document.querySelectorAll('.gallery-item');
            const lightboxModal = document.getElementById('lightboxModal');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxClose = lightboxModal.querySelector('.close');

            galleryItems.forEach(item => {
                item.addEventListener('click', () => {
                    const imgSrc = item.querySelector('img').src;
                    lightboxImage.src = imgSrc;
                    lightboxModal.style.display = 'flex';
                });
            });

            function closeLightbox() {
                lightboxModal.style.display = 'none';
                lightboxImage.src = ''; // Kosongkan ja untuk menghentikan loading jika ada
            }

            lightboxClose.addEventListener('click', closeLightbox);
            lightboxModal.addEventListener('click', (e) => {
                if (e.target === lightboxModal) closeLightbox();
            });

            // Back to Top Button Logic
            const backToTopBtn = document.getElementById('backToTopBtn');

            window.addEventListener('scroll', () => {
                // Tampilkan tombol jika scroll lebih dari 300px
                if (window.scrollY > 300) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });

            backToTopBtn.addEventListener('click', () => {
                // Gulir ke atas dengan halus
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

        });

        // User Role Functions
        function initializeUserRoleSelectors() {
            userRoleSelectors.forEach(selector => {
                selector.addEventListener('click', function() {
                    // Remove active class from all roles in this selector
                    const siblings = Array.from(this.parentElement.children);
                    siblings.forEach(sibling => sibling.classList.remove('active'));
                    
                    // Add active class to clicked role
                    this.classList.add('active');
                    
                    // Update current user role
                    currentUserRole = this.getAttribute('data-role');
                });
            });
        }

        function updateDashboardForUserRole() {
            // Update dashboard title and user role display
            dashboardTitle.textContent = `Dashboard Soto Lamongan - ${currentUserRole.toUpperCase()}`;
            userRoleDisplay.textContent = `Role: ${currentUserRole}`;
            
            // Update sidebar menu based on user role
            updateSidebarMenu();
            
            // Show appropriate default section
            const defaultSection = currentUserRole === 'admin' ? 'overview' : 'kasir';
            showDashboardSection(defaultSection);
        }

        function updateSidebarMenu() {
            sidebarMenu.innerHTML = '';
            
            if (currentUserRole === 'admin') {
                // Admin menu
                sidebarMenu.innerHTML = `
                    <li class="active"><a href="#" data-section="overview"><i class="fas fa-chart-line"></i> Overview</a></li>
                    <li><a href="#" data-section="kasir"><i class="fas fa-cash-register"></i> Kasir</a></li>
                    <li><a href="#" data-section="menu-management"><i class="fas fa-utensils"></i> Kelola Menu</a></li>
                    <li><a href="#" data-section="user-management"><i class="fas fa-users"></i> Kelola Pengguna</a></li>
                    <li><a href="#" data-section="penjualan"><i class="fas fa-shopping-cart"></i> Data Penjualan</a></li>
                    <li><a href="#" data-section="laporan"><i class="fas fa-chart-bar"></i> Laporan</a></li>
                    <li><a href="#" data-section="pengaturan"><i class="fas fa-cog"></i> Pengaturan</a></li>
                `;
            } else {
                // Kasir menu
                sidebarMenu.innerHTML = `
                    <li class="active"><a href="#" data-section="kasir"><i class="fas fa-cash-register"></i> Kasir</a></li>
                    <li><a href="#" data-section="penjualan"><i class="fas fa-shopping-cart"></i> Data Penjualan</a></li>
                `;
            }
            
            // Add event listeners to sidebar menu
            const sidebarLinks = sidebarMenu.querySelectorAll('a');
            const dashboardSections = document.querySelectorAll('.dashboard-section');
            
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links and sections
                    sidebarLinks.forEach(l => l.parentElement.classList.remove('active'));
                    dashboardSections.forEach(s => s.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.parentElement.classList.add('active');
                    
                    // Show corresponding section
                    const sectionId = this.getAttribute('data-section');
                    showDashboardSection(sectionId);
                });
            });
        }

        function showDashboardSection(sectionId) {
            // Hide all sections
            const dashboardSections = document.querySelectorAll('.dashboard-section');
            dashboardSections.forEach(s => s.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Initialize specific sections
            if (sectionId === 'kasir') {
                updateKasirDisplay();
            } else if (sectionId === 'menu-management') {
                updateMenuTable();
            } else if (sectionId === 'user-management') {
                updateUserTable();
            } else if (sectionId === 'penjualan') {
                updateSalesTable();
            } else if (sectionId === 'overview') {
                initializeSalesChart();
                updateOverview();
            }
        }

        // Kasir Functions
        function initializeKasir() {
            // Load menu items
            updateKasirDisplay();
            
            // Add event listeners to category buttons
            categoryButtonsKasir.forEach(button => {
                button.addEventListener('click', filterMenuKasir);
            });
            
            // Add event listeners to kasir buttons
            clearCartKasirBtn.addEventListener('click', clearCartKasir);
            checkoutKasirBtn.addEventListener('click', checkoutKasir);
            saveOrderKasirBtn.addEventListener('click', saveOrderKasir);
            
            // Add event listener to add menu button
            addMenuBtn.addEventListener('click', showAddMenuModal);
            
            // Add event listener to add user button
            if (addUserBtn) {
                addUserBtn.addEventListener('click', showAddUserModal);
            }
        }

        function updateKasirDisplay() {
            // Update menu items display
            menuItemsKasir.innerHTML = '';

            const menuImageMapping = {
                "Soto Ayam Lamongan": "download (1).webp",
                "Soto Daging Lamongan": "download.webp",
                "Nasi Goreng Lamongan": "Resep-Nasi-Goreng-Spesial.jpg",
                "Es Jeruk": "jeruk.jpeg",
                "Teh Manis": "tehmanis.webp",
                "Kerupuk Udang": "udang.jpeg",
                "Telur Rebus": "telur.jpeg",
                "Emping Melinjo": "emping.jpeg"
            };
            
            menuItems.filter(item => item.status === 'active').forEach(item => {
                const menuItemElement = document.createElement('div');
                const imageSrc = item.image || menuImageMapping[item.name] || 'OIP.webp';
                menuItemElement.className = 'menu-item-kasir';
                menuItemElement.setAttribute('data-category', item.category);
                menuItemElement.innerHTML = `
                    <img src="${imageSrc}" alt="${item.name}">
                    <h4>${item.name}</h4>
                    <div class="price">Rp ${item.price.toLocaleString()}</div>
                `;
                
                menuItemElement.addEventListener('click', () => addToCartKasir(item));
                menuItemsKasir.appendChild(menuItemElement);
            });
            
            // Update cart display
            updateCartKasirDisplay();
        }

        function filterMenuKasir(e) {
            const category = e.target.getAttribute('data-category');
            
            // Update active button
            categoryButtonsKasir.forEach(button => {
                button.classList.remove('active');
            });
            e.target.classList.add('active');
            
            // Filter menu items
            const allMenuItems = document.querySelectorAll('.menu-item-kasir');
            allMenuItems.forEach(item => {
                if (category === 'all' || item.getAttribute('data-category') === category) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function addToCartKasir(item) {
            // Check if item already in cart
            const existingItem = cartKasir.find(cartItem => cartItem.id === item.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cartKasir.push({
                    id: item.id,
                    name: item.name,
                    price: item.price,
                    quantity: 1
                });
            }
            
            updateCartKasirDisplay();
            showNotification(`${item.name} ditambahkan ke keranjang`);
        }

        function updateCartKasirDisplay() {
            keranjangItemsKasir.innerHTML = '';
            
            if (cartKasir.length === 0) {
                keranjangItemsKasir.innerHTML = '<p style="text-align: center; color: #777;">Keranjang kosong</p>';
                keranjangTotalKasir.textContent = 'Rp 0';
                return;
            }
            
            let total = 0;
            
            cartKasir.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'keranjang-item';
                cartItemElement.innerHTML = `
                    <div class="keranjang-item-info">
                        <div class="keranjang-item-name">${item.name}</div>
                        <div class="keranjang-item-price">Rp ${item.price.toLocaleString()}</div>
                    </div>
                    <div class="keranjang-item-controls">
                        <button class="quantity-btn-kasir decrease-kasir" data-id="${item.id}">-</button>
                        <span class="keranjang-item-quantity">${item.quantity}</span>
                        <button class="quantity-btn-kasir increase-kasir" data-id="${item.id}">+</button>
                        <button class="quantity-btn-kasir remove-kasir" data-id="${item.id}"><i class="fas fa-trash"></i></button>
                    </div>
                `;
                
                keranjangItemsKasir.appendChild(cartItemElement);
            });
            
            // Add event listeners to quantity buttons
            document.querySelectorAll('.decrease-kasir').forEach(button => {
                button.addEventListener('click', decreaseQuantityKasir);
            });
            
            document.querySelectorAll('.increase-kasir').forEach(button => {
                button.addEventListener('click', increaseQuantityKasir);
            });
            
            document.querySelectorAll('.remove-kasir').forEach(button => {
                button.addEventListener('click', removeItemKasir);
            });
            
            // Update total
            keranjangTotalKasir.textContent = `Rp ${total.toLocaleString()}`;
        }

        function decreaseQuantityKasir(e) {
            const id = parseInt(e.target.getAttribute('data-id'));
            const item = cartKasir.find(item => item.id === id);
            
            if (item.quantity > 1) {
                item.quantity -= 1;
            } else {
                cartKasir = cartKasir.filter(item => item.id !== id);
            }
            
            updateCartKasirDisplay();
        }

        function increaseQuantityKasir(e) {
            const id = parseInt(e.target.getAttribute('data-id'));
            const item = cartKasir.find(item => item.id === id);
            item.quantity += 1;
            updateCartKasirDisplay();
        }

        function removeItemKasir(e) {
            const id = parseInt(e.target.closest('button').getAttribute('data-id'));
            cartKasir = cartKasir.filter(item => item.id !== id);
            updateCartKasirDisplay();
        }

        function clearCartKasir() {
            cartKasir = [];
            updateCartKasirDisplay();
            showNotification('Keranjang telah dikosongkan');
        }

        function checkoutKasir() {
            if (cartKasir.length === 0) {
                Swal.fire('Keranjang Kosong', 'Tambahkan item terlebih dahulu sebelum proses pembayaran.', 'warning');
                return;
            }
            
            Swal.fire({
                title: 'Konfirmasi Pembayaran',
                text: "Apakah Anda yakin ingin memproses pembayaran?",
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#2a9d8f',
                cancelButtonColor: '#e63946',
                confirmButtonText: 'Ya, Proses!',
                cancelButtonText: 'Batal'
            }).then((result) => {
                if (result.isConfirmed) {
                    generateReceiptKasir();
                    Swal.fire(
                        'Berhasil!',
                        'Pembayaran telah diproses.',
                        'success'
                    );
                }
            });
        }

        function saveOrderKasir() {
            if (cartKasir.length === 0) {
                Swal.fire('Keranjang Kosong', 'Tambahkan item terlebih dahulu untuk menyimpan pesanan.', 'warning');
                return;
            }
            
            // Clear cart after saving
            cartKasir = [];
            updateCartKasirDisplay();
        }

        function generateReceiptKasir() {
            const now = new Date();
            const dateTime = now.toLocaleString('id-ID');
            const orderId = `ORD-${orderNumber.toString().padStart(3, '0')}`;
            
            let receiptHTML = `
                <div class="receipt-header">
                    <h2>Soto Lamongan Asli</h2>
                    <p>Jl. Raya Lamongan No. 123</p>
                    <p>Lamongan, Jawa Timur</p>
                </div>
                <div class="receipt-info">
                    <p><strong>No. Pesanan:</strong> ${orderId}</p>
                    <p><strong>Tanggal:</strong> ${dateTime}</p>
                    <p><strong>Kasir:</strong> ${users.find(u => u.role === currentUserRole)?.username || 'Kasir'}</p>
                </div>
                <table class="receipt-items">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Qty</th>
                            <th>Subtotal</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            let total = 0;
            cartKasir.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                receiptHTML += `
                    <tr>
                        <td>${item.name}</td>
                        <td>${item.quantity}</td>
                        <td>Rp ${itemTotal.toLocaleString()}</td>
                    </tr>
                `;
            });
            
            // Record the sale
            salesData.push({
                id: orderId,
                date: now.toISOString(),
                kasir: users.find(u => u.role === currentUserRole)?.username || 'Kasir',
                total: total,
                status: 'Selesai',
                items: JSON.parse(JSON.stringify(cartKasir)) // Deep copy cart items
            });
            orderNumber++;

            receiptHTML += `
                    </tbody>
                </table>
                <div class="receipt-total">
                    <span>Total:</span>
                    <span>Rp ${total.toLocaleString()}</span>
                </div>
                <div class="receipt-footer">
                    <p>Terima kasih atas kunjungan Anda!</p>
                    <p>Silakan datang kembali</p>
                </div>
            `;
            
            receiptContent.innerHTML = receiptHTML;
            receiptModal.style.display = 'flex';
            
            // Clear cart after generating receipt
            cartKasir = [];
            updateCartKasirDisplay();

            // Update overview and sales table
            updateOverview();
            updateSalesTable();
        }

        // Menu Management Functions
        function updateMenuTable() {
            menuTableBody.innerHTML = '';
            
            menuItems.forEach((item, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${item.name}</td>
                    <td>${item.category}</td>
                    <td>Rp ${item.price.toLocaleString()}</td>
                    <td>${item.status === 'active' ? 'Aktif' : 'Nonaktif'}</td>
                    <td>
                        <button class="btn btn-small edit-menu" data-id="${item.id}">Edit</button>
                        <button class="btn btn-small btn-danger delete-menu" data-id="${item.id}">${item.status === 'active' ? 'Nonaktifkan' : 'Aktifkan'}</button>
                    </td>
                `;
                
                menuTableBody.appendChild(row);
            });
            
            // Add event listeners to menu buttons
            document.querySelectorAll('.edit-menu').forEach(button => {
                button.addEventListener('click', editMenuItem);
            });
            
            document.querySelectorAll('.delete-menu').forEach(button => {
                button.addEventListener('click', toggleMenuItemStatus);
            });
        }

        function showAddMenuModal() {
            addMenuModal.style.display = 'flex';
        }

        addMenuForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('menuName').value;
            const category = document.getElementById('menuCategory').value;
            const price = parseInt(document.getElementById('menuPrice').value);
            const description = document.getElementById('menuDescription').value;
            const image = document.getElementById('menuImage').value;
            
            // Generate new ID
            const newId = menuItems.length > 0 ? Math.max(...menuItems.map(item => item.id)) + 1 : 1;
            
            // Add new menu item
            menuItems.push({
                id: newId,
                name: name,
                category: category,
                price: price,
                description: description,
                image: image,
                status: 'active'
            });
            
            // Update displays
            updateMenuTable();
            updateKasirDisplay();
            
            // Close modal and show success message
            addMenuModal.style.display = 'none';
            showNotification(`Menu ${name} berhasil ditambahkan`);
            addMenuForm.reset();
        });

        function editMenuItem(e) {
            const id = parseInt(e.target.getAttribute('data-id'));
            const item = menuItems.find(item => item.id === id);
            
            // For now, we'll use a simple prompt. A modal (like the 'addMenuModal') would be better.
            const newPrice = prompt(`Masukkan harga baru untuk ${item.name}:`, item.price);
            if (newPrice && !isNaN(newPrice)) {
                item.price = parseInt(newPrice);
                updateMenuTable();
                updateKasirDisplay();
                showNotification(`Harga ${item.name} berhasil diubah.`);
            } else if (newPrice !== null) {
                Swal.fire('Input Tidak Valid', 'Harga harus berupa angka.', 'error');
            }

        }

        function toggleMenuItemStatus(e) {
            const id = parseInt(e.target.getAttribute('data-id'));
            const item = menuItems.find(item => item.id === id);
            
            item.status = item.status === 'active' ? 'inactive' : 'active';
            updateMenuTable();
            updateKasirDisplay();
            
            showNotification(`Menu ${item.name} ${item.status === 'active' ? 'diaktifkan' : 'dinonaktifkan'}`);
        }

        // User Management Functions
        function updateUserTable() {
            userTableBody.innerHTML = '';
            
            users.forEach((user, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.role}</td>
                    <td>${user.status === 'active' ? 'Aktif' : 'Nonaktif'}</td>
                    <td>
                        <button class="btn btn-small edit-user" data-username="${user.username}">Edit</button>
                        <button class="btn btn-small btn-danger delete-user" data-username="${user.username}">${user.status === 'active' ? 'Nonaktifkan' : 'Aktifkan'}</button>
                    </td>
                `;
                
                userTableBody.appendChild(row);
            });
            
            // Add event listeners to user buttons
            document.querySelectorAll('.edit-user').forEach(button => {
                button.addEventListener('click', editUser);
            });
            
            document.querySelectorAll('.delete-user').forEach(button => {
                button.addEventListener('click', toggleUserStatus);
            });
        }

        function showAddUserModal() {
            // In a real application, this would show a modal to add a new user
            Swal.fire({
                title: 'Fitur Dalam Pengembangan',
                text: 'Fitur untuk menambah pengguna baru akan diimplementasikan di sini, mirip dengan modal "Buat Akun Baru".',
                icon: 'info'
            });
        }

        function editUser(e) {
            const username = e.target.getAttribute('data-username');
            const user = users.find(u => u.username === username);
            Swal.fire({
                title: 'Fitur Dalam Pengembangan',
                html: `Fitur untuk mengedit pengguna <b>${user.username}</b> akan diimplementasikan di sini. <br> Ini akan membuka modal untuk mengubah role, email, atau mereset password.`,
                icon: 'info'
            });

        }

        function toggleUserStatus(e) {
            const username = e.target.getAttribute('data-username');
            const user = users.find(u => u.username === username);
            
            user.status = user.status === 'active' ? 'inactive' : 'active';
            updateUserTable();
            
            showNotification(`Pengguna ${user.username} ${user.status === 'active' ? 'diaktifkan' : 'dinonaktifkan'}`);
        }

        // Sales Data Functions
        function updateSalesTable() {
            salesTableBody.innerHTML = '';

            // Display in reverse chronological order (newest first)
            salesData.slice().reverse().forEach((sale, index) => {
                const row = document.createElement('tr');
                const saleDate = new Date(sale.date);
                row.innerHTML = `
                    <td>${salesData.length - index}</td>
                    <td>${sale.id}</td>
                    <td>${saleDate.toLocaleString('id-ID')}</td>
                    <td>${sale.kasir}</td>
                    <td>Rp ${sale.total.toLocaleString()}</td>
                    <td><span style="background-color: #2a9d8f; color: white; padding: 5px 10px; border-radius: 5px;">${sale.status}</span></td>
                `;
                
                salesTableBody.appendChild(row);
            });

            // Add event listener for reset button
            const resetSalesBtn = document.getElementById('resetSalesBtn');
            if (resetSalesBtn) resetSalesBtn.addEventListener('click', resetSalesData);
        }

        // Chart.js Function
        function initializeSalesChart() {
            const ctx = document.getElementById('salesChart').getContext('2d');
            
            if (salesChart) {
                salesChart.destroy();
            }

            // Prepare data for the last 7 days
            const labels = [];
            const data = [];
            for (let i = 6; i >= 0; i--) {
                const d = new Date();
                d.setDate(d.getDate() - i);
                labels.push(d.toLocaleDateString('id-ID', { weekday: 'short' }));

                const dailySales = salesData.filter(sale => new Date(sale.date).toDateString() === d.toDateString());
                const dailyTotal = dailySales.reduce((sum, sale) => sum + sale.total, 0);
                data.push(dailyTotal);
            }

            salesChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Pendapatan (Rp)',
                        data: data,
                        backgroundColor: 'rgba(230, 57, 70, 0.2)',
                        borderColor: '#e63946',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value, index, values) {
                                    return 'Rp ' + value.toLocaleString();
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Pendapatan: Rp ${context.parsed.y.toLocaleString()}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Overview and Reset Functions
        function updateOverview() {
            const today = new Date().toDateString();
            const salesToday = salesData.filter(sale => new Date(sale.date).toDateString() === today);

            // 1. Calculate Revenue Today
            const revenueToday = salesToday.reduce((sum, sale) => sum + sale.total, 0);
            overviewRevenueToday.textContent = `Rp ${revenueToday.toLocaleString()}`;

            // 2. Calculate Total Orders Today
            const totalOrdersToday = salesToday.length;
            overviewTotalOrders.textContent = totalOrdersToday;

            // 3. Calculate Best Seller (all time)
            if (salesData.length > 0) {
                const itemCounts = {};
                salesData.forEach(sale => {
                    sale.items.forEach(item => {
                        if (itemCounts[item.name]) {
                            itemCounts[item.name] += item.quantity;
                        } else {
                            itemCounts[item.name] = item.quantity;
                        }
                    });
                });

                let bestSeller = '-';
                let maxQuantity = 0;
                for (const itemName in itemCounts) {
                    if (itemCounts[itemName] > maxQuantity) {
                        maxQuantity = itemCounts[itemName];
                        bestSeller = itemName;
                    }
                }
                overviewBestSeller.textContent = bestSeller;
            } else {
                overviewBestSeller.textContent = '-';
            }
        }

        function resetSalesData() {
            Swal.fire({
                title: 'Anda Yakin?',
                text: "Semua data penjualan akan dihapus permanen dan tidak dapat dikembalikan. Ini juga akan mereset ringkasan penjualan.",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#e63946',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Ya, Hapus Semua!',
                cancelButtonText: 'Batal'
            }).then((result) => {
                if (result.isConfirmed) {
                    salesData = [];
                    orderNumber = 1;
                    updateSalesTable();
                    updateOverview();
                    initializeSalesChart();
                    Swal.fire('Dihapus!', 'Semua data penjualan telah berhasil dihapus.', 'success');
                }
            });
        }

        // Report Generation Function
        function generateSalesReport() {
            const startDateInput = document.getElementById('reportStartDate').value;
            const endDateInput = document.getElementById('reportEndDate').value;

            if (!startDateInput || !endDateInput) {
                Swal.fire('Tanggal Tidak Lengkap', 'Silakan pilih tanggal mulai dan tanggal akhir.', 'warning');
                return;
            }

            const startDate = new Date(startDateInput);
            const endDate = new Date(endDateInput);
            endDate.setHours(23, 59, 59, 999); // Set end date to the end of the day

            const filteredSales = salesData.filter(sale => {
                const saleDate = new Date(sale.date);
                return saleDate >= startDate && saleDate <= endDate;
            });

            reportResultDiv.style.display = 'block';

            if (filteredSales.length === 0) {
                reportResultDiv.innerHTML = '<p style="text-align: center;">Tidak ada data penjualan pada periode yang dipilih.</p>';
                return;
            }

            const totalRevenue = filteredSales.reduce((sum, sale) => sum + sale.total, 0);
            const totalOrders = filteredSales.length;
            const itemSummary = {};

            filteredSales.forEach(sale => {
                sale.items.forEach(item => {
                    if (itemSummary[item.name]) {
                        itemSummary[item.name] += item.quantity;
                    } else {
                        itemSummary[item.name] = item.quantity;
                    }
                });
            });

            let itemsHtml = '<ul>';
            for (const itemName in itemSummary) {
                itemsHtml += `<li>${itemName}: <strong>${itemSummary[itemName]}</strong> terjual</li>`;
            }
            itemsHtml += '</ul>';

            reportResultDiv.innerHTML = `
                <h3 style="margin-bottom: 15px; color: #e63946;">Laporan Penjualan Periode ${startDate.toLocaleDateString('id-ID')} - ${endDate.toLocaleDateString('id-ID')}</h3>
                <p><strong>Total Pendapatan:</strong> Rp ${totalRevenue.toLocaleString()}</p>
                <p><strong>Total Pesanan:</strong> ${totalOrders} transaksi</p>
                <hr style="margin: 15px 0;">
                <h4 style="margin-bottom: 10px;">Ringkasan Item Terjual:</h4>
                ${itemsHtml}
            `;
        }

        // Utility Functions
        function printReceipt() {
            const receipt = receiptContent.innerHTML;
            const originalContent = document.body.innerHTML;
            
            document.body.innerHTML = receipt;
            window.print();
            document.body.innerHTML = originalContent;
            
            // Restore event listeners
            location.reload();
        }

        function startNewOrder() {
            receiptModal.style.display = 'none';
            showNotification('Pesanan baru telah dimulai!');
        }

        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.backgroundColor = '#2a9d8f';
            notification.style.color = '#fff';
            notification.style.padding = '15px 20px';
            notification.style.borderRadius = '5px';
            notification.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';
            notification.style.zIndex = '1000';
            notification.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
            notification.classList.add('animate__animated', 'animate__fadeInRight');
            
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.classList.replace('animate__fadeInRight', 'animate__fadeOutRight');
                notification.addEventListener('animationend', () => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>         }, 300);
            }, 3000);
        }
    </script>
</body>
</html>         }, 300);
            }, 3000);
        }
    </script>
</body>
</html>         }, 300);
            }, 3000);
        }
    </script>
</body>
</html>         }, 300);
            }, 3000);
        }
    </script>
</body>
</html>         }, 300);
            }, 3000);
        }
    </script>
</body>
</html>         }, 300);
            }, 3000);
        }
    </script>
</body>
</html>